#include "VI.h"
#include "winfile.h"
int main(int argc, char* argv[])
{
	argc = 5;
	if (argc < 5)
	{
		fprintf(stdout, "%s", "命令行参数输入错误");
		fprintf(stdout, "%s", "args[1]1KM 标准产品路径");
	//	fprintf(stdout, "%s", "args[2]1KM 反照率MCD43B");
		fprintf(stdout, "%s", "args[3]1KM MCD12Q1分类数据");
		fprintf(stdout, "%s", "args[4]1KM 5天合成的LAI(输出)");
		return 1;
	}
	else 
	{
	//	File file;
	////	string path = "/media/MyPassport/NDVI_DATA/";
	//	string path = argv[1];
	//	vector<string> filelist = file.GetFiles(path, ".hdf");
	//	string input = path + filelist[0];
	//	for (int i = 1; i < filelist.size(); i++)
	//	{
	//		input = input + "," + path + filelist[i];
	//	}
		//
		////		//定义输入和输出文件
		////        //char* input = "/media/835001CEF0E523DF/TestData/NDVI_TEST/MERSI.1000.2012214035500.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MERSI.1000.2012214072000.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MERSI.1000.2012215033500.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MERSI.1000.2012215051500.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MERSI.1000.2012215070000.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MERSI.1000.2012216031500.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MERSI.1000.2012216045500.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MERSI.1000.2012216050000.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MERSI.1000.2012216064500.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MERSI.1000.2012217025500.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MERSI.1000.2012217030000.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MODIS.1000.2012216064000.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MODIS.1000.2012217040000.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MODIS.1000.2012217040500.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MODIS.1000.2012217054000.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MODIS.1000.2012217054500.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MODIS.1000.2012217072000.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MODIS.1000.2012217072500.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MODIS.1000.2012218031000.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MODIS.1000.2012218044500.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MODIS.1000.2012218045000.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MODIS.1000.2012218062500.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MODIS.1000.2012218063000.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MERSI.1000.2012217062500.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MERSI.1000.2012218024000.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MERSI.1000.2012218042000.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MERSI.1000.2012218060500.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MODIS.1000.2012214033000.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MODIS.1000.2012214033500.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MODIS.1000.2012214051000.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MODIS.1000.2012214051500.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MODIS.1000.2012214065000.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MODIS.1000.2012214065500.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MODIS.1000.2012215041500.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MODIS.1000.2012215055500.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MODIS.1000.2012215060000.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MODIS.1000.2012215073500.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MODIS.1000.2012216032000.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MERSI.1000.2012217044000.H25V04.000000.hdf,/media/835001CEF0E523DF/TestData/NDVI_TEST/MODIS.1000.2012216050000.H25V04.000000.hdf";
		//		char* OutFileName="/home/wsl/2013.NDVI.183-187.H17V06.hdf";
		//		char* MCD43B1FileName = "/media/SeagateExpansionDrive/MCD43B1_h5/MCD43B1.A2012185.h17v06.005.2012208132048.hdf.h5";
		//		char* MCD12Q1 = "/media/SeagateExpansionDrive/MCD12Q1_h5/MCD12Q1.A2012001.h17v06.051.2013178170141.hdf.h5";
		argv[1]="E:\\2015MDS+FY\\01\\";
		argv[2] = "E:\\2015MDS+FY\\mcd.hdf";
		argv[3] = "E:\\2015MDS+FY\\2015.NDVI.001-005.H25V05.hdf";
		string filePath = argv[1];
		vector <string> files;
		getFiles(filePath, files, "*.hdf");
		
		char* input = argv[1];
		char* MCD12Q1 = argv[2];
		char* OutFileName = argv[3];
		cout << "输入数据：" << filePath << endl;
		cout << "分类数据(MCD12Q1)：" << MCD12Q1 << endl;
		cout << "输出路径：" << OutFileName << endl;
		VI pNDVI;
		pNDVI.Compute_NDVI(files, OutFileName, MCD12Q1);
		return 0;
	}//if(argc)


}
